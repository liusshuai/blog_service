(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70f192b0"],{"063c":function(t,e,s){"use strict";s.d(e,"b",function(){return o}),s.d(e,"c",function(){return r}),s.d(e,"d",function(){return i}),s.d(e,"e",function(){return c}),s.d(e,"a",function(){return l});var n=s("4020"),a="blogComment";function o(t){return Object(n["a"])("".concat(a,"/getByArticle"),t).then(function(t){return Promise.resolve(t)})}function r(t){return Object(n["a"])("".concat(a,"/getByTweet"),t).then(function(t){return Promise.resolve(t)})}function i(t){return Object(n["a"])("".concat(a,"/getByBoard"),t).then(function(t){return Promise.resolve(t)})}function c(t){return Object(n["a"])("".concat(a,"/getByMovie"),t).then(function(t){return Promise.resolve(t)})}function l(t){return Object(n["b"])("".concat(a,"/addComment"),t).then(function(t){return Promise.resolve(t)})}},"0aae":function(t,e,s){},"0be6":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"template_box_wrap",attrs:{id:"commentBox"}},[s("h3",[t._v(t._s(t.title)),s("span",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}]},[t._v("("+t._s(t.total)+")")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.placeholder,expression:"placeholder"}],staticClass:"cancle_reply",on:{click:t.cancel}},[t._v("取消回复")]),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"content",attrs:{placeholder:t.placeholder},domProps:{value:t.content},on:{focus:t.focus,input:function(e){e.target.composing||(t.content=e.target.value)}}})]),s("transition",{attrs:{name:"btn-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showForm,expression:"showForm"}],ref:"form",staticClass:"data_form"},[s("div",{staticClass:"info_input"},[s("h3",[t._v("昵称"),s("i",{staticStyle:{color:"red"}},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:"您的昵称（必填）"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"info_input"},[s("h3",[t._v("邮箱"),s("i",{staticStyle:{color:"red"}},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.useremail,expression:"useremail"}],attrs:{placeholder:"您的邮箱（必填，不公开）"},domProps:{value:t.useremail},on:{input:function(e){e.target.composing||(t.useremail=e.target.value)}}})]),s("div",{staticClass:"info_input"},[s("h3",[t._v("个人站点")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userblog,expression:"userblog"}],attrs:{placeholder:"http:// 有就填，勿填广告链接"},domProps:{value:t.userblog},on:{input:function(e){e.target.composing||(t.userblog=e.target.value)}}})]),s("div",{staticClass:"remmember"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isR,expression:"isR"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isR)?t._i(t.isR,null)>-1:t.isR},on:{change:function(e){var s=t.isR,n=e.target,a=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&(t.isR=s.concat([o])):r>-1&&(t.isR=s.slice(0,r).concat(s.slice(r+1)))}else t.isR=a}}}),t._v(" 记住信息")])])]),s("error-mess",{attrs:{text:t.errorText}}),s("div",{staticClass:"send_btn"},[s("button",{attrs:{type:"button"},on:{click:t.comment}},[t._v("评论")]),t._v(" 💋\n    ")])],1)},a=[],o=(s("a481"),s("c5f6"),s("ba3b")),r=s("0e0b"),i={data:function(){return{showForm:!1,isR:!1,content:"",username:"",useremail:"",userblog:"",errorText:""}},props:{total:{type:Number,default:0},title:{type:String,default:"评论"},placeholder:{type:String,default:""}},mounted:function(){this.getInfoFromStorage()},methods:{getInfoFromStorage:function(){var t=localStorage.getItem("userInfo");if(t)for(var e in this.isR=!0,t=JSON.parse(t),t)this[e]=t[e]},comment:function(){if(this.showForm)if(this.content)if(this.username)if(this.useremail)if(Object(r["a"])(this.useremail)){var t={content:this.content,username:this.username,useremail:this.useremail};this.userblog&&(t.userblog="http://"+this.userblog.replace("http://","")),this.$emit("comment",t),this.content="",this.rememberInfo()}else this.errorText="邮箱格式不正确";else this.errorText="请输入邮箱";else this.errorText="请输入昵称";else this.errorText="内容不能为空",this.$refs.content.focus();else this.showForm=!0},rememberInfo:function(){if(this.isR){var t={username:this.username,useremail:this.useremail,userblog:this.userblog};localStorage.setItem("userInfo",JSON.stringify(t))}else localStorage.removeItem("userInfo")},cancel:function(){this.$emit("cancel")},focus:function(){this.$refs.content.style.height="200px"},toggleForm:function(){this.showForm=!this.showForm}},components:{ErrorMess:o["a"]}},c=i,l=(s("fcdb"),s("2877")),u=Object(l["a"])(c,n,a,!1,null,"712abcd1",null);e["a"]=u.exports},1695:function(t,e,s){},"1c67":function(t,e,s){"use strict";var n=s("a924"),a=s.n(n);a.a},"29fd":function(t,e,s){"use strict";var n=s("0aae"),a=s.n(n);a.a},"2ad8":function(t,e,s){},3144:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mess_list_wrap"},[s("ul",{staticClass:"board_list"},t._l(t.data,function(e,n){return s("li",{key:e.id},[s("div",{staticClass:"author_info"},[s("div",{staticClass:"pub_info"},[e.userblog?s("a",{staticClass:"author_name",attrs:{href:e.userblog,target:"_blank"}},[t._v(t._s(e.username))]):s("span",{staticClass:"author_name"},[t._v(t._s(e.username))]),s("span",{staticClass:"pub_time"},[t._v(t._s(e.pubtime))])]),s("div",{staticClass:"base_info"},[s("span",{staticClass:"quto_btn",on:{click:function(s){return t.qutoComment(e)}}},[s("a",{attrs:{href:"#commentBox"}},[t._v("引用")])]),s("span",{staticClass:"floor_text"},[t._v(t._s(t.total-n)+"楼")])])]),s("div",{staticClass:"content"},[s("blockquote",{directives:[{name:"show",rawName:"v-show",value:e.replycontent,expression:"item.replycontent"}]},[s("pre",[t._v("引用 "+t._s(e.replyname)+" 的发言")]),t._v("\n                    "+t._s(e.replycontent)+"\n                ")]),s("p",{staticClass:"content_origin"},[t._v(t._s(e.content))])])])}),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.data.length,expression:"total > data.length"}],staticClass:"get_more_btn"},[s("more-btn",{attrs:{text:"查看更多"},on:{onClick:this.handleGetMore}})],1)])},a=[],o=(s("c5f6"),s("af11")),r={props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0}},methods:{qutoComment:function(t){var e={replyname:t.username,replycontent:t.content,replyemail:t.useremail};this.$emit("quto",e)},handleGetMore:function(){this.$emit("getMore")}},components:{MoreBtn:o["a"]}},i=r,c=(s("ee5b"),s("2877")),l=Object(c["a"])(i,n,a,!1,null,"50140ca9",null);e["a"]=l.exports},6573:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board_page_wrap"},[s("div",{staticClass:"info_box_wrap"},[s("info-box")],1),s("transition",{attrs:{name:"slide-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"board_wrap"},[s("h3",{staticClass:"board_title",attrs:{id:"comment"}},[s("i",{staticClass:"icon-board"}),t._v(" 留言板("+t._s(t.total)+")")]),t.mess.length?s("mess-list",{attrs:{data:t.mess,total:t.total},on:{quto:t.replyComment,getMore:t.getMoreMess}}):s("empty",{attrs:{text:"仲有冇留言，你嚟抢梳化啦！"}}),s("comment-box",{attrs:{title:"留言",placeholder:t.commentText},on:{comment:t.leaveMess,cancel:t.clearReply}})],1)])],1)},a=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),r=s("3144"),i=s("0be6"),c=s("d138"),l=s("c954"),u=s("063c");function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(s,!0).forEach(function(e){Object(o["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var p={data:function(){return{page:1,mess:[],total:0,commentText:"",loading:!0}},mounted:function(){this.getBoards(),this.reply={}},methods:{getBoards:function(){var t=this;Object(u["d"])({page:this.page}).then(function(e){if(200===e.code){var s=e.data,n=s.list,a=s.total;t.mess=t.mess.concat(n),t.total=a}t.loading=!1})},getMoreMess:function(){this.page+=1,this.getBoards()},leaveMess:function(t){var e=this;t=Object.assign({},t,f({host:0,type:3},this.reply)),Object(u["a"])(t).then(function(s){200===s.code&&(e.mess.unshift(t),e.total+=1,location.href="/board#comment"),e.clearReply()})},replyComment:function(t){this.reply=t,this.commentText="回复 ".concat(t.replyname," 的留言")},clearReply:function(){this.reply={},this.commentText=""}},components:{MessList:r["a"],CommentBox:i["a"],Empty:c["a"],InfoBox:l["a"]}},d=p,v=(s("8604"),s("2877")),h=Object(v["a"])(d,n,a,!1,null,"6af30d43",null);e["default"]=h.exports},8604:function(t,e,s){"use strict";var n=s("8ab9"),a=s.n(n);a.a},"8ab9":function(t,e,s){},a924:function(t,e,s){},af11:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"l_button_wrap",on:{click:t.click}},[t._v(t._s(t.text))])},a=[],o={props:{text:{type:String,default:"click me"}},methods:{click:function(){this.$emit("onClick")}}},r=o,i=(s("ca57"),s("2877")),c=Object(i["a"])(r,n,a,!1,null,"f8e2fae6",null);e["a"]=c.exports},c954:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info_box_wrap"},[s("div",{staticClass:"avatar"}),s("h3",{staticClass:"name"},[t._v(t._s(t.userInfo.nickname))]),t._m(0),s("follow-btn",{on:{followCallback:t.followCallback}}),s("div",{staticClass:"data_info"},[s("span",[t._v("文章："),s("em",[t._v(t._s(t.userInfo.articlecount))])]),s("span",[t._v("留言："),s("em",[t._v(t._s(t.userInfo.commentCount))])]),s("span",[t._v("订阅："),s("em",[t._v(t._s(t.userInfo.followers))])])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"github"},[s("i",{staticClass:"icon-github"}),s("a",{attrs:{href:"https://github.com/liusshuai",target:"_blank"}},[t._v("https://github.com/liusshuai")])])}],o=s("6f89"),r=s("4e3c"),i={mixins:[r["a"]],components:{FollowBtn:o["a"]}},c=i,l=(s("29fd"),s("2877")),u=Object(l["a"])(c,n,a,!1,null,"08666c75",null);e["a"]=u.exports},ca57:function(t,e,s){"use strict";var n=s("f2da"),a=s.n(n);a.a},d138:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"empty_wrap"},[s("div",{staticClass:"empty_image_box"}),s("p",[t._v("💔 "+t._s(t.text))])])},a=[],o={props:{text:{type:String,default:"咩都冇~"}}},r=o,i=(s("1c67"),s("2877")),c=Object(i["a"])(r,n,a,!1,null,"cddc498c",null);e["a"]=c.exports},ee5b:function(t,e,s){"use strict";var n=s("1695"),a=s.n(n);a.a},f2da:function(t,e,s){},fcdb:function(t,e,s){"use strict";var n=s("2ad8"),a=s.n(n);a.a}}]);