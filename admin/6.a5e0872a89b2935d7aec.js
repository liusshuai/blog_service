(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(516)),o=p(n(85)),r=p(n(39)),i=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n(519),n(84),n(64);var u=p(n(1)),s=p(n(384)),f=p(n(401)),c=n(821);function p(e){return e&&e.__esModule?e:{default:e}}n(822);var d=[{title:"昵称",dataIndex:"username",key:"username"},{title:"邮箱",dataIndex:"email",key:"email"}],g=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,u.default.Component),i(h,[{key:"componentDidMount",value:function(){var t=this;document.title="关注我的 - 博客后台",d[2]={title:"操作",key:"operation",render:function(e){return u.default.createElement(f.default,{onConfirm:function(){return t.remove(e.id)}},u.default.createElement(r.default,{size:"small",type:"primary"},"删除"))}},this.getFollows()}},{key:"getFollows",value:function(){var a=this;(0,c.getFollow)(this.state.page).then(function(e){if(200===e.code){var t=e.data,n=t.list,o=t.total;n=n.map(function(e){return e.key=e.id,e}),a.setState({list:n,total:o,loading:!1})}})}},{key:"pageChange",value:function(e){var t=this;this.setState({page:e},function(){t.getFollows()})}},{key:"remove",value:function(e){var t=this;(0,c.removeFollow)(e).then(function(e){200===e.code?(o.default.success("删除成功"),t.setState({page:1},function(){t.getFollows()})):o.default.error(e.msg)})}},{key:"render",value:function(){var e=this.state,t=e.page,n=e.list,o=e.loading;return u.default.createElement("div",{className:"follow_page_wrap"},u.default.createElement(s.default,{pathes:["订阅我的"]}),u.default.createElement(a.default,{columns:d,dataSource:n,loading:o,pagination:{current:t,pageSize:20,onChange:this.pageChange}}))}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return t.state={page:1,list:[],total:0,loading:!0},t.pageChange=t.pageChange.bind(t),t}t.default=g},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFollow=function(e){return(0,o.get)(a+"/getMyFollow",{page:e||1}).then(function(e){return Promise.resolve(e)})},t.removeFollow=function(e){return(0,o.post)(a+"/remove",{uid:e}).then(function(e){return Promise.resolve(e)})};var o=n(245),a="follow"},822:function(e,t,n){var o=n(823);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(24)(o,a);o.locals&&(e.exports=o.locals)},823:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".follow_page_wrap {\n  width: 1000px;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: rgba(80, 80, 80, 0.11) 0px 1px 3px 0px;\n  background: #fff;\n  margin: 20px auto;\n}\n",""])}}]);